"""
바이비트 실거래 설정 파일
"""

import os
from pathlib import Path

# .env 파일 로드 (선택사항)
try:
    from dotenv import load_dotenv
    load_dotenv()
except ImportError:
    pass

# ============================================================================
# 바이비트 API 설정
# ============================================================================
BYBIT_API_KEY = os.getenv('BYBIT_API_KEY', '')
BYBIT_API_SECRET = os.getenv('BYBIT_API_SECRET', '')

# 테스트넷 사용 여부 (True: 테스트넷, False: 실거래)
USE_TESTNET = False

# ============================================================================
# 거래 설정
# ============================================================================
SYMBOL = 'BTCUSDT'  # 거래 심볼
TIMEFRAME = '60'    # 1시간봉 (그리드 서치 최적화 결과)
LEVERAGE = 3.0      # 최적화 레버리지 (복리 효과 극대화)
PAPER_TRADING = True  # 페이퍼 트레이딩 모드 (가상 거래)

# ============================================================================
# Adaptive 전략 최적화 파라미터 (2023-2025 백테스트 결과)
# ============================================================================
ADX_TRENDING_MIN = 25
ADX_RANGING_MAX = 15
TREND_SL_ATR = 1.5
RANGE_SL_ATR = 1.5
SESSION_START_HOUR = 8
SESSION_END_HOUR = 22

# ============================================================================
# 포지션 관리
# ============================================================================
MAX_POSITION_SIZE = 0.1  # 최대 포지션 크기 (계좌의 10%)
MIN_POSITION_SIZE = 0.01  # 최소 포지션 크기 (계좌의 1%)

# ============================================================================
# 복리 시스템
# ============================================================================
COMPOUND_FREQUENCY = 2       # 2거래마다 복리 적용
PROFIT_REINVESTMENT = 0.95   # 수익의 95% 재투자

# ============================================================================
# 기술적 지표 파라미터 (Aggressive Strategy)
# ============================================================================
ATR_WINDOW = 10
EMA_WINDOW = 20
RSI_WINDOW = 7
DONCHIAN_WINDOW = 50
BB_WINDOW = 20
BB_STD = 2.0
ADX_WINDOW = 14
EMA_TREND_WINDOW = 200

# ============================================================================
# 리스크 관리
# ============================================================================
MAX_DRAWDOWN = 0.50          # 최대 손실폭 50%
STOP_LOSS_PCT = 0.02         # 손절 2%
TAKE_PROFIT_PCT = 0.05       # 익절 5%

# ============================================================================
# 로깅 설정
# ============================================================================
LOG_FILE = 'bot.log'
LOG_LEVEL = 'INFO'

# ============================================================================
# 알림 설정 (선택사항)
# ============================================================================
ENABLE_ALERTS = False
ALERT_WEBHOOK_URL = os.getenv('ALERT_WEBHOOK_URL', '')  # Discord/Slack 웹훅

# ============================================================================
# 데이터 저장
# ============================================================================
RESULTS_DIR = 'results'
TRADES_LOG_FILE = 'trades.csv'
EQUITY_LOG_FILE = 'equity.csv'

# 결과 디렉토리 생성
Path(RESULTS_DIR).mkdir(exist_ok=True)
