version: '3.8'

services:
  bot_dashboard:
    build: .
    container_name: btc_usdt_bot_dashboard
    ports:
      - "8000:8000"
    volumes:
      - ./.env:/app/.env # .env 파일을 컨테이너 내부의 /app/.env로 마운트
      - ./dashboard.log:/app/dashboard.log # 로그 파일 마운트 (선택 사항, 영구 저장을 위해)
    env_file:
      - ./.env # .env 파일에서 환경 변수 로드
    restart: unless-stopped # 컨테이너가 예기치 않게 종료될 경우 자동으로 재시작
    # bot_manager.py가 uvicorn을 사용하여 FastAPI 앱을 실행한다고 가정합니다.
    # 만약 bot_manager.py가 직접 uvicorn을 시작하지 않는다면, 아래 command 라인을 활성화하고
    # bot_manager.py에서 FastAPI 앱 객체의 이름을 'app'으로 가정하여 수정해야 할 수 있습니다.
    # command: ["uvicorn", "bot_manager:app", "--host", "0.0.0.0", "--port", "8000"]
